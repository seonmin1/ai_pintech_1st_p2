<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{front/layouts/main}">
<main layout:fragment="content">
    <h1 th:text=#{쪽지함}></h1>

    <form name="frmSearch" method="get" th:action="@{/message/list}" autocomplete="off">

    </form>

    <ul class="items">
        <li th:if="${items != null && !items.isEmpty()}" class="item" th:each="item : ${items}" th:object="${item}">
            <a th:href="@{/message/view/{seq}(seq=*{seq})}" class="subject">
                <span class="badge" th:text="*{#messages.msg(status)}"></span> <!-- 열람, 미열람 상태 -->
                <th:block th:text="*{subject}"></th:block>
            </a>
            <div class="info">
                <span class="sender" th:text="*{#strings.concat(sender.name, '(', sender.email, ')')}"></span> <!-- 보낸사람 -->
                <span class="data" th:text="*{#temporals.format(createdAt, 'yy.MM.dd HH:mm')}"></span> <!-- 날짜 -->
            </div>
        </li>
        <li th:unless="${items != null && !items.isEmpty()}" class="no-data" th:text="#{조회된_쪽지가_없습니다.}"></li> <!-- 위 조건과 반대일 때 -->
    </ul>

    <th:block th:replace="~{common/_pagination::pagination}"></th:block> <!-- 페이징 연동 -->
</main>
</html>